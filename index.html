<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Snap & Frame</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">
        <!-- Toast notification container -->
        <div id="toast-container" class="toast-container"></div>

        <div class="error-message" id="error-message">
            <h2>Camera Access Needed</h2>
            <p>Please tap "Allow" when prompted for camera permission. If you've denied access, go to your phone's
                Settings app to enable camera access for this site.</p>
            <button id="retry-btn">Retry Camera Access</button>
        </div>

        <div id="camera-section">
            <div class="preview-container" id="preview-container">
                <!-- Full-bleed preview wrapper -->
                <div class="preview-wrapper" id="preview-wrapper">
                    <video id="video" autoplay playsinline muted></video>
                    <canvas id="overlay-preview" class="overlay-canvas"></canvas>
                </div>
                <!-- Bottom controls bar (outside overlay plane) -->
                <div class="controls-bar">
                    <div class="controls-wrapper">
                        <button id="orientation-btn" class="control-btn" aria-label="Toggle orientation">
                            <span class="btn-label">‚ü≥</span>
                        </button>
                        <button id="snap-btn" disabled>
                            <span id="snap-text">Snap</span>
                            <span id="snap-loading" class="loading hidden"></span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="result-section" id="result-section">
            <img id="result-preview" alt="Your framed photo">
            <div class="button-group">
                <button id="retake-btn">Retake Photo</button>
                <button id="download-btn">Download Photo</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>

</html>